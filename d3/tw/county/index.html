<html>
    <head>
        <meta charset="utf-8">
        <title>Color TW County Map by D3.JS</title>
        <script type="text/javascript" src="//d3js.org/d3.v3.min.js"></script>
        <script type="text/javascript" src="//d3js.org/topojson.v1.min.js"></script>
        <script type="text/javascript" src="//codeorigin.jquery.com/jquery-1.10.2.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                var topojson_file = "../data/shp/topojson/counties.json";

                // load topojson data
                d3.json(topojson_file, function(topojson_data) {
                    console.log(topojson_data);

                    // make projection object
                    var center = [122, 23.25];
                    var scale = 6000;
                    var offset = [400, 300];
                    var projection = d3.geo.mercator().scale(scale).center(center).translate(offset);
                    console.log(projection);

                    // make path object
                    var path = d3.geo.path().projection(projection);
                    console.log(path);

                    // make feature object
                    var feature = topojson.feature(topojson_data, topojson_data.objects.map).features;
                    console.log(feature);

                    // make svg element
                    var w = "800px";
                    var h = "600px";
                    var svg = d3.select("body").append("svg").attr("width", w)
                                                             .attr("height", h);

                    // make border for the svg element
                    svg.append("rect").attr("x", 0)
                                      .attr("y", 0)
                                      .attr("height", h)
                                      .attr("width", w)
                                      .style("stroke", "black")
                                      .style("fill", "none")
                                      .style("stroke-width", "1px");

                    // bind data
                    svg.selectAll("path").data(feature).enter().append("path").attr("d", path);
                });
            });
        </script>
    </head>
    <body></body>
</html>
